{{input class="search-tracks" autofocus="autofocus" value=filterText escape-press='clearSearch' placeholder="Search podcasts" input=(action "resetPagination")}}
{{#power-select-multiple
    placeholder="Search by tag..."
    options=labelNames
    selected=selectedLabels
    renderInPlace=true
    onchange=(action (mut selectedLabels))
	oninput=(action "resetPagination")
    as |label|
}}
  {{label}}
{{/power-select-multiple}}
{{#if isSearching}}
  {{#each pagedFilteredResults as |track|}}
    {{podcast-track cdnUrl=track.cdnUrl title=track.title labels=track.labels selectLabel="selectLabel"}}
  {{/each}}
  {{#each (range 1 meta.total_pages) as |number| }}
    {{link-to number "podcasts" (query-params page=number)}}
  {{/each}}
{{else}}
  {{#each tracks as |track|}}
    {{podcast-track cdnUrl=track.cdnUrl title=track.title labels=track.labels selectLabel="selectLabel"}}
  {{/each}}

  <span class="pagination">{{#link-to "podcasts" (query-params page=meta.page)}}previous{{/link-to}}</span>
  {{#each (range 1 meta.total_pages) as |number| }}
    {{#if (eq number meta.page)}}
	  {{number}}
	{{else}}
      <span class="pagination">{{link-to number "podcasts" (query-params page=number)}}</span>
	{{/if}}
  {{/each}}
{{/if}} 
